{"version":3,"sources":["logo.svg","components/OrderForm.js","components/Message.js","components/MessageList.js","components/MessageBox.js","components/Header.js","lib/FireStore.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","OrderForm","props","_this2","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","plusAmount","amount","state","setState","minusAmount","order","e","db","current_deal","collection","doc","datas","_this","assertThisInitialized","get","then","data","console","log","update","totalOrderCnt","docRef","catch","error","cnt","bind","react_default","a","createElement","className","onClick","Component","Message","message","MessageList","messages","getData","onSnapshot","snapshot","that","forEach","push","values","messagesVal","_","keys","map","messageKey","clone","value","messageNodes","components_Message","MessageBox","onChange","onKeyup","target","keyCode","trim","preventDefault","add","placeholder","cols","onKeyUp","Header","extra_amount","title","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","firestore","App","components_Header","components_OrderForm","components_MessageList","components_MessageBox","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.86b216f4.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","import React, { Component } from 'react';\nimport trim from \"trim\";\n\nclass OrderForm extends Component {\n    constructor(props) {\n        super(props);\n        this.cnt = 0;\n        this.state = {\n            amount: 0\n        }\n        // This binding is necessary to make `this` work in the callback\n        this.minusAmount = this.minusAmount.bind(this);\n        this.plusAmount = this.plusAmount.bind(this);\n        this.order = this.order.bind(this);\n    }\n\n    plusAmount = () => {\n        const {amount} = this.state;\n        this.setState({\n            amount: amount + 1\n        })\n    }\n    minusAmount = () => {\n        const {amount} = this.state;\n        this.setState({\n            amount: amount - 1\n        })\n    }\n\n    order = (e) => {\n        var db = this.props.db;\n        const {amount} = this.state;\n        let current_deal = db.collection(\"time_deal\").doc(\"current_deal\");\n        let datas = 0;\n        var _this = this;\n        current_deal.get().then(function(doc) {\n            datas = doc.data()['totalOrderCnt'];\n            console.log(datas);\n            current_deal.update({\n                totalOrderCnt: _this.state.amount + datas\n            })\n            .then(function (docRef) {\n                console.log(\"Document successfully updated!\");\n            })\n            .catch(function (error) {\n                console.error(\"Error adding document: \", error);\n            });\n        });\n    }\n\n    render() {\n        return (\n            <div>\n                <div>구매개수: {this.state.amount}</div>\n                <div className=\"button\" onClick={this.plusAmount}>+</div>\n                <div className=\"button\" onClick={this.minusAmount}>-</div>\n                <div className=\"button\" onClick={this.order}>구매하기</div>\n            </div>\n        );\n    }\n}\n\nexport default OrderForm;","// Message.js\n\nimport React, {Component} from 'react';\n\nclass Message extends Component {\n\n    render(){\n        return (\n            <div>\n                {this.props.message}\n            </div>\n        )\n    }\n}\nexport default Message","\nimport React, {Component} from 'react';\nimport Message from './Message';\nimport _ from 'lodash';\nimport trim from \"trim\";\n\nclass MessageList extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            messages: []\n        };\n\n        this.getData = this.getData.bind(this);\n\n    }\n    componentDidMount() {\n        let db = this.props.db;\n        db.collection(\"messages\").onSnapshot(snapshot => {\n            let that = this;\n            let messages = [];\n            snapshot.forEach(function(doc) {\n                var message = that.getData(doc.data());\n                messages.push(message);\n            });\n            that.setState({messages: messages});\n        });\n\n    }\n\n    getData(values){\n        let messagesVal = values;\n        let messages = _(messagesVal)\n            .keys()\n            .map(messageKey => {\n                let cloned = _.clone(messagesVal[messageKey]);\n                return cloned;\n            })\n            .value();\n        return messages\n    }\n\n    render() {\n        let messageNodes = this.state.messages.map((message) => {\n            return (\n                <div className=\"card\">\n                    <div className=\"card-content\">\n                        <Message message = {message}/>\n                    </div>\n                </div>\n            )\n        });\n        return (\n            <div>\n                {messageNodes}\n            </div>\n        );\n    }\n}\n\nexport default MessageList","// MessageBox.js\n\nimport React, {Component} from 'react';\nimport trim from 'trim';\n\nclass MessageBox extends Component {\n\n    constructor(props){\n        super(props);\n        this.onChange = this.onChange.bind(this);\n        this.onKeyup = this.onKeyup.bind(this);\n        this.state = {\n            message: ''\n        };\n    }\n    onChange(e){\n        this.setState({\n            message: e.target.value\n        });\n    }\n    onKeyup(e){\n        if(e.keyCode === 13 && trim(e.target.value) !== ''){\n            e.preventDefault();\n            let db = this.props.db;\n            db.collection(\"messages\").add({\n                message: trim(e.target.value)\n            })\n            .then(function(docRef) {\n            })\n            .catch(function(error) {\n                console.error(\"Error adding document: \", error);\n            });\n            this.setState({\n                message: ''\n            });\n        }\n    }\n    render() {\n        return (\n            <form>\n        <textarea\n            className=\"textarea\"\n            placeholder=\"Type a message\"\n            cols=\"100\"\n            onChange={this.onChange}\n            onKeyUp={this.onKeyup}\n            value={this.state.message}>\n          </textarea>\n            </form>\n        )\n    }\n}\n\nexport default MessageBox","// Header.js\n\nimport React, {Component} from 'react';\n\nclass Header extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            extra_amount: 0\n        };\n    }\n\n    componentDidMount() {\n        let db = this.props.db;\n\n        let current_deal = db.collection(\"time_deal\").doc(\"current_deal\");\n        let datas = 0;\n        var _this = this;\n\n        current_deal.onSnapshot(snapshot => {\n            var totalOrderCnt = snapshot.data()['totalOrderCnt'];\n            var limitCnt = snapshot.data()['limitCnt'];\n            var extra_amount = limitCnt - totalOrderCnt\n            this.setState({extra_amount: extra_amount});\n        });\n\n    }\n\n    render(){\n        return (\n            <div className=\"container\">\n                <div className=\"columns notification\">\n                    <div className=\"column is-3\"></div>\n                    <div className=\"column is-3\">{this.props.title}</div>\n                    <div className=\"column is-6\"> 잔여 수량: {this.state.extra_amount}</div>\n                </div>\n                <div className=\"columns section\"></div>\n            </div>\n        )\n    }\n}\nexport default Header","import firebase from'firebase'\nconst config = {\n    apiKey: \"AIzaSyBLQu2q3KCQP-t7-uwcG9Qh4lZKkHLEovk\",\n    authDomain: \"timedeal-d9667.firebaseapp.com\",\n    databaseURL: \"https://timedeal-d9667.firebaseio.com\",\n    projectId: \"timedeal-d9667\",\n    storageBucket: \"timedeal-d9667.appspot.com\",\n    messagingSenderId: \"623151994144\"\n};\nfirebase.initializeApp(config);\nvar firestore = firebase.firestore();\n\nexport default firestore;","import React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport OrderForm from \"./components/OrderForm\";\nimport MessageList from './components/MessageList';\nimport MessageBox from './components/MessageBox';\nimport Header from './components/Header';\n// import firebase from 'firebase';\nimport firestore from './lib/FireStore';\n\nclass App extends Component {\n\n\n    constructor(props){\n        super(props);\n    }\n  render() {\n    return (\n        <div className=\"container\">\n            <Header title=\"경매 상품\" db={firestore}/>\n            <div className=\"columns\">\n                <div className=\"column is-2\"></div>\n                <div className=\"column is-2\"></div>\n                <div className=\"column is-4\">\n                    <OrderForm db={firestore}/>\n                </div>\n            </div>\n            <MessageList db={firestore}/>\n            <div className=\"columns\">\n                <div className=\"column is-3\"></div>\n                <div className=\"column is-6\">\n                    <MessageBox db={firestore}/>\n                </div>\n\n            </div>\n        </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}